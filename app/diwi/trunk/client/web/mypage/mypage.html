
<html>
<head>
<title>De Digitale Wichelroede</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <link rel="stylesheet" type="text/css" href="../css/mypagebasis.css">
  <link rel="stylesheet" type="text/css" href="../css/maakroute.css">
  <link rel="stylesheet" type="text/css" href="../css/mijnpagina.css">
  <link rel="stylesheet" type="text/css" href="../css/winclassic.css">

</head>
	<script type="text/javascript" src="../lib/gt/DHTML.js"></script>
	<script type="text/javascript" src="../lib/gt/KWClient.js"></script>
	<script type="text/javascript" src="../js/KWClientDiWi.js"></script>
		<!--- slider js --->
	<script src="../js/range.js" type="text/javascript"></script>
	<script src="../js/timer.js" type="text/javascript"></script>
	<script src="../js/slider.js" type="text/javascript"></script>

	<script type="text/javascript">

/************ De Session wordt uit een koekje gehaald... ********************/
		var TST = {
			// Initialization of KWClient library
			init: function() {
				TST.pr('init...');

				// KeyWorx client with
				// callbacks (2x)
				// server timeout in minutes
				// server root path /diwi
				KW.init(TST.onRsp, TST.onNegRsp, 100, '/diwi');

				// Try to restore and continue with saved session
				TST.pr('init done, restoring session');
				KW.restoreSession();
				document.getElementsByTagName("name")[0].innerHTML=KW.agentKey;
				TST.pr('restored session, key=' + KW.agentKey);

				TST.testUtopia();
			},

				// test fun to see if session is really active
			testUtopia: function() {
				TST.pr('testUtopia start');

				// May use any request, here a common one: echo
				var req = KW.createRequest('echo-req');
				KW.post(TST.onRsp, req);
			},
			logout: function() {
				TST.pr('logout start');
				// KeyWorx client
				KW.logout();
				TST.pr('logout sent');
				return false;
			},
			
			maakroutes: function() {
				TST.pr('maakroute start');
				var params = new Array();
				params[KW.DIWI.BESLOTEN_PARAM] = 	s1.getValue();
				params[KW.DIWI.HALFOPEN_PARAM] = 	s2.getValue();
				params[KW.DIWI.OPEN_PARAM] = 		s3.getValue();
				params[KW.DIWI.BEDRIJVEN_PARAM] = 	s4.getValue();
				params[KW.DIWI.BEWONING_PARAM] = 	s5.getValue();
				params[KW.DIWI.BOS_PARAM] = 		s6.getValue();
				params[KW.DIWI.HEIDE_PARAM] = 		s7.getValue();
				params[KW.DIWI.GRASLAND_PARAM] = 	s8.getValue();
				params[KW.DIWI.ZEE_PARAM] = 		s9.getValue();
				params[KW.DIWI.SLOTEN_PARAM] = 		s10.getValue();
				params[KW.DIWI.STARTPUNT_PARAM] = 	document.getElementById("startpunt").value;
				params[KW.DIWI.EINDPUNT_PARAM] = 	document.getElementById("eindpunt").value;
				params[KW.DIWI.THEMA_PARAM] = 		document.getElementById("thema").value;
				params[KW.DIWI.AFSTAND_PARAM] = 	document.getElementById("afstand").value;
				params[KW.DIWI.WANDELAAR_PARAM] = 	document.getElementById("wandelen").checked;
	
				KW.DIWI.generateroute(null, params);				
			},

			onRsp: function(elm) {
				if (!elm) {
					TST.pr('empty response');
					return;
				}

				TST.pr('got server response ' + elm.tagName);
				if (elm.tagName == 'person-getdefault-rsp') {
					TST.pr('person-getlist OK');
				} else {
					TST.pr('rsp tag=' + elm.tagName + ' ' + elm);
				}
				if (elm.tagName == 'logout-rsp') {
					TST.pr('logout OK');
					document.location.href='../index.html' ;
				} 
				else {
					TST.pr('rsp tag=' + elm.tagName + ' ' + elm);
					TST.pr('xml content:<pre>' + DH.escape(elm.ownerDocument.xml) + '</pre>');					
				}
				
			},

		// KWClient negative response handler.
			onNegRsp: function(errorId, error, details) {
				TST.pr('negative resp:' + error + ' details=' + details);
			},

		// Util for printing/displaying debug output
			pr: function (s) {
				DH.addHTML('result', '<br/>' + s);
			}

		}

		// Call TST.init() when page is fully loaded
		DH.addEvent(window, 'load', TST.init, false);
/*******************************************************************************/
var currentSelection = 1;
var toolbarData = new Array();
toolbarData[1] = new Array('buttons/routes.jpg', 'buttons/routes.jpg', 'buttons/routes.jpg');
toolbarData[2] = new Array('buttons/zoek.jpg', 'buttons/zoek.jpg', 'buttons/zoek.jpg');
toolbarData[3] = new Array('buttons/mijnpagina.jpg', 'buttons/mijnpagina.jpg', 'buttons/mijnpagina.jpg');
toolbarData[4] = new Array('buttons/maakroute.jpg', 'buttons/maakroute.jpg', 'buttons/maakroute.jpg');
toolbarData[5] = new Array('buttons/uitloggen.jpg', 'buttons/uitloggen.jpg', 'buttons/uitloggen.jpg');

var buttons=5;

var popupData = new Array("kaartpopup1","kaartpopup2","kaartpopup3","kaartpopup4");

function highlightItem(obj, state) {
 i = obj.getAttribute('id');
 if (i != currentSelection) {
		obj.setAttribute('src', toolbarData[i][state]);
 }
}

function selectItem(obj) {
 i = obj.getAttribute('id');
	var tbar = new Array();
	for (j=1; j<buttons+1;j++) {
  	tbar[j] = document.getElementById(j);
		tbar[j].setAttribute('src', toolbarData[(j)][0]);
	}
obj.setAttribute('src', toolbarData[i][2]);
 currentSelection = i;
}


function toonPlaatje(index) {
	im = document.getElementById(200);
 im.src = imageNames[index-1];
}

function laadtPlaatjes() {
	var d=document; 
	if(d.images){ 
		if(!d.MM_p){ 
			d.MM_p=new Array();
		}										
		var i,j=d.MM_p.length,a=laadtPlaatjes.arguments; 
		for(i=0; i<a.length; i++) {
			if (a[i].indexOf("#")!=0){ 
				d.MM_p[j]=new Image; 
				d.MM_p[j++].src=a[i];
				j++;
			}
		}
	}
}

function menu_goto( menuform )
{
    var baseurl = "http://www." ;
    selecteditem = menuform.newurl.selectedIndex ;
    newurl = menuform.newurl.options[ selecteditem ].value ;
    if (newurl.length != 0) {
      location.href = baseurl + newurl ;
    }
}

function HidePopup(d) {
if(d.length < 1) { return; }
	document.getElementById(popupData[d]).style.display = "none";
	}
function ShowPopup(d) {
	if(d.length < 1) { return; }
	document.getElementById(popupData[d]).style.display = "block";
}

function show(d){
	for (i=0;i<4;i++){
		if (i==d) {
			ShowPopup(i);
		} else {
			HidePopup(i);
		}
	}
}

function PageQuery(q) {
	if(q.length > 1) this.q = q.substring(1, q.length);
	else this.q = null;
	this.keyValuePairs = new Array();
	if(q) {
		for(var i=0; i < this.q.split("&").length; i++) {
			this.keyValuePairs[i] = this.q.split("&")[i];
		}
	}
	this.getKeyValuePairs = function() { return this.keyValuePairs; }
	this.getValue = function(s) {
		for(var j=0; j < this.keyValuePairs.length; j++) {
			if(this.keyValuePairs[j].split("=")[0] == s)
				return this.keyValuePairs[j].split("=")[1];
		}
		return false;
	}
	this.getParameters = function() {
		var a = new Array(this.getLength());
		for(var j=0; j < this.keyValuePairs.length; j++) {
			a[j] = this.keyValuePairs[j].split("=")[0];
		}
		return a;
	}
	this.getLength = function() { return this.keyValuePairs.length; }	
}
function queryString(key){
	var page = new PageQuery(window.location.search); 
	return unescape(page.getValue(key)); 
}

function beginpagina() {
	if (queryString('mp')=='true') { 
		toonmijnpagina();
	} else {
		toonmaakroutepagina();
	}
	
}

</script>

<body  bgcolor="#F6F8F5" >

<!--
<div id="back">  <img src="images/back.jpg" border="0"> </div>
-->

<div id="logo"> <img src="images/logot.jpg" border="0"> </div>
<div id="line"><img src="images/line.jpg" border="0"></div>
<div id="copyright"><img src="images/copyright.jpg" border="0"></div>
<div id="personaliabox"><img src="../home/images/videobox.gif" border="0"></div>
<!--<div id="personaliabox"><img src="images/personalia.jpg" border="0"></div>-->
<div id="commentaarbox"><img src="images/commentaar.jpg" border="0"></div>

<div id="butroutes"> 
	<a><img id="1" src="buttons/routes.jpg"onMouseOver="highlightItem(this, 1)" 
		onMouseOut="highlightItem(this, 0)" onClick="selectItem(this);" border="0"></a> 
</div>
<div id="butzoek"> 
	<a><img id="2" src="buttons/zoek.jpg"onMouseOver="highlightItem(this, 1)" 
		onMouseOut="highlightItem(this, 0)" onClick="location.href='../index.html';" border="0"></a> 
</div>
<div id="butmijnpagina"> 
	<a><img id="3" src="buttons/mijnpagina.jpg"onMouseOver="highlightItem(this, 1)" 
		onMouseOut="highlightItem(this, 0)" onClick="selectItem(this);toonmijnpagina();" border="0"></a> 
</div>
<div id="butmaakroute"> 
	<a><img id="4" src="buttons/maakroute.jpg"onMouseOver="highlightItem(this, 1)" 
		onMouseOut="highlightItem(this, 0)" onClick="selectItem(this);toonmaakroutepagina();" border="0"></a> 
</div>
<div id="butuitloggen"> 
	<a><img id="5" src="buttons/uitloggen.jpg"onMouseOver="highlightItem(this, 1)" 
		onMouseOut="highlightItem(this, 0)" onClick="selectItem(this); javascript:TST.logout();" border="0"></a> 
</div>

<!-- Alles wat op mijnpagina getoond moet worden. ---------------------------------------------------->
	<div id="mijnpaginacontainer" style="display:block;">
		<div id="kaart"><img src="images/kaart.jpg" border="0"></div>
		
		<div id="butspeelaf"> 
			<a><img id="6" src="buttons/speelaf.jpg" border="0"></a>		</div>
		
		<div id="butwijzigprofiel"> 
			<a><img id="7" src="buttons/wijzigprofiel.jpg" border="0"></a>		</div>
		
		
		<div id="butkiesroute"> 
			<form action="dummyvalue">
			<select name="newurl" onChange="menu_goto(this.form)">
				<option value="" selected="selected">kies een van mijn routes</option>
				<option value="" >bunkerholen</option>
				<option value="" >heeel lang</option>
				<option value="" disabled="disabled"> ---- Miscellaneous ----</option>
				<option value="" >snert route</option>
			</select>
			</form>
		</div>
		
		<!-- De popups op de kaart -->
		
		<div id="kaartpopup1" style="display:none;"><img src="images/kaartpopup.jpg" border="0"></div>
		<div id="kaartpopup2" style="display:none;"><img src="images/kaartpopup.jpg" border="0"></div>
		<div id="kaartpopup3" style="display:none;"><img src="images/kaartpopup.jpg" border="0"></div>
		<div id="kaartpopup4" style="display:block;"><img src="images/kaartpopup.jpg" border="0"></div>
		
		
		<div id="paginaheader">
			<p>
				Mijn pagina<br>
			</p>
		</div>
		
		<div id="routeheader" > 
		  	<p>
			Ronde om de Grebbeberg		  
			</p>
		</div>
		 
		 <div id="author">
		 		<p>
				Kim Deal, gedaan op 23 februari 2007 
				</p>
		 </div>
		
		<div id="ookgelopen"> 
			<p>
				Deze route is ook gelopen door de volgende wandelaars: Jan Jansen, Piet Pietersen, Harry Visser.			</p>
		</div>
<!--		Later.		
		<div id="meerdetails"> 
			<p>
				<a href="">Klik hier voor meer details over deze route >></a>
			</p>
		</div>
-->
		
		<div id="personaliatekst">
			<h11>
				Steve Albini <br>
			</h11>
			<p>
			<img  src="images/self.jpg" border="0" align="left">
			Haai, mijn naam is <name>Steve Albini</name> en ik ben het meest bekend geworden als producer van de Pixies en natuurlijk Nirvana!						            </p>
		</div>
<!--    	Later		
		<div id="personaliameer">
			<p>
				<a href="">Lees meer >></a>		</p>
		</div>
-->
		
		<div id="commentaartekst">
			<H10>Commentaar</H10>
			<br><br>
			<p> 
			- Wat een te gekke muziek! <br>
			- Meer van dit alles man!!! <br>
			- Nog harder!!!!!!!!!!! <br>
			</p>
		</div>
		
		<div id="commentaarnavigatie">	
			<p>
				<a href="">vorige</a> | 1 van 5 | <a href="">volgende</a>		
			</p>
		</div>
	</div>
<script type="text/javascript">
	
	function toonmijnpagina() {
		document.getElementById("mijnpaginacontainer").style.display = "block";
		document.getElementById("maakroutecontainer").style.display = "none";
	}
	function toonmaakroutepagina() {
		document.getElementById("mijnpaginacontainer").style.display = "none";
		document.getElementById("maakroutecontainer").style.display = "block";
	}
</script>
<!-- Einde alles wat op mijnpagina getoond moet worden ----------------------------------------------------->



<!-- Alles wat op maakroutepagina getoond moet worden. ----------------------------------------------------->
<div id="maakroutecontainer" style="display:none;">
	<div id="paginaheader">
		<p>
			Route samenstellen<br>
		</p>
	</div>
	
	<div id="radiobuttons" class="radiocaption">
		<input id="wandelen" name=rb1 type=radio  onClick="selectWandelen()"> Wandelen
		<input id="fietsen" name=rb2 type=radio  onClick="selectFietsen()"> Fietsen
	</div>

<script type="text/javascript">
	document.getElementById("wandelen").checked = true;
	
	function selectWandelen() {
		document.getElementById("wandelen").checked = true;	
		document.getElementById("fietsen").checked = false;	
	}
	function selectFietsen() {
		document.getElementById("wandelen").checked = false;	
		document.getElementById("fietsen").checked = true;	
	}
</script>
	
	<div class="listboxes" id="startpunt-lb"> 
	<p>
	Startpunt
	</p>
	<form>
	<select id="startpunt" >
		<option value="0" selected="selected">geen voorkeur</option>
		<option value="1" >bunkerholen</option>
		<option value="2" >heeel lang</option>
		<option value="3" >snert route</option>
	</select>
	</form>
	</div>
	<div class="listboxes" id="eindpunt-lb"> 
	<p>
	Eindpunt
	</p>
	<form>
	<select id="eindpunt" >
		<option value="0" selected="selected">geen voorkeur</option>
		<option value="1" >bunkerholen</option>
		<option value="2" >heeel lang</option>
		<option value="3" >snert route</option>
	</select>
	</form>
	</div>
	<div class="listboxes" id="thema-lb"> 
	<p>
	Thema
	</p>
	<form>
	<select id="thema" >
		<option value="0" selected="selected">geen voorkeur</option>
		<option value="1" >bunkerholen</option>
		<option value="2" >heeel lang</option>
		<option value="3" >snert route</option>
	</select>
	</form>
	</div>
	<div class="listboxes" id="afstand-lb"> 
	<p>
	Afstand
	</p>
	<form>
	<select id="afstand">
		<option value="0" selected="selected">geen voorkeur</option>
		<option value="3" >3 km</option>
		<option value="5" >5 km</option>
		<option value="10" >10 km</option>
		<option value="15" >15 km</option>
		<option value="20" >20 km</option>
	</select>
	</form>
	</div>


	<div  class="slidercaption" id="caption1">
		Besloten agrarisch gebied
	</div>	
	
	<div class="slider" id="slider1" >
		<input class="slider-input" id="s1input"/>
	</div>
	<div class="slidertext" id="besloten">
		 <input  id="s1value" value="0" onChange="s1.setValue(parseInt(this.value))" />
	</div>

	<div  class="slidercaption" id="caption2">
		Halfopen agrarisch gebied
	</div>	
	<div class="slider" id="slider2" >
		<input class="slider-input" id="s2input"/>
	</div>
	<div class="slidertext" id="halfopen">
		 <input id="s2value" value="0" onChange="s2.setValue(parseInt(this.value))" />
	</div>
	
	<div  class="slidercaption" id="caption3">
		Open agrarisch gebied
	</div>	
	<div class="slider" id="slider3" >
		<input class="slider-input" id="s3input"/>
	</div>
	<div  class="slidertext" id="open">
		 <input id="s3value" value="0" onChange="s3.setValue(parseInt(this.value))" />
	</div>

	<div  class="slidercaption" id="caption4">
		Bedrijven en industrie
	</div>	
	<div class="slider" id="slider4" >
		<input class="slider-input" id="s4input"/>
	</div>
	<div  class="slidertext" id="bedrijven">
		 <input id="s4value" value="0" onChange="s4.setValue(parseInt(this.value))" />
	</div>
	
	<div  class="slidercaption" id="caption5">
		Bewoningskernen
	</div>	
	<div class="slider" id="slider5" >
		<input class="slider-input" id="s5input"/>
	</div>
	<div class="slidertext" id="bewoning">
		 <input id="s5value" value="0" onChange="s5.setValue(parseInt(this.value))" />
	</div>

	<div  class="slidercaption" id="caption6">
		Bos
	</div>	
	<div class="slider" id="slider6" >
		<input class="slider-input" id="s6input"/>
	</div>
	<div class="slidertext"  id="bos">
		 <input id="s6value" value="0" onChange="s6.setValue(parseInt(this.value))" />
	</div>
	
	<div  class="slidercaption" id="caption7">
		Heide zand en duingebied
	</div>	
	<div class="slider" id="slider7" >
		<input class="slider-input" id="s7input"/>
	</div>
	<div class="slidertext"  id="heide">
		 <input id="s7value"  value="0" onChange="s7.setValue(parseInt(this.value))" />
	</div>

	<div  class="slidercaption" id="caption8">
		Natuurlijk grasland, moeras <br>en riet
	</div>	
	<div class="slider" id="slider8" >
		<input class="slider-input" id="s8input"/>
	</div>
	<div class="slidertext"  id="grasland">
		 <input id="s8value"  value="0" onChange="s8.setValue(parseInt(this.value))" />
	</div>

	<div  class="slidercaption" id="caption9">
		Zee en grote meren
	</div>	
	<div class="slider" id="slider9" >
		<input class="slider-input" id="s9input"/>
	</div>
	<div class="slidertext"  id="zee">
		 <input id="s9value"  value="0" onChange="s9.setValue(parseInt(this.value))" />
	</div>

	<div  class="slidercaption" id="caption10">
		Sloten, beken, rivieren en <br>plassen
	</div>	
	<div class="slider" id="slider10" >
		<input class="slider-input" id="s10input"/>
	</div>
	<div class="slidertext"  id="sloten">
		 <input id="s10value"  value="0" onChange="s10.setValue(parseInt(this.value))" />
	</div>
	
	<div id="butmaakeigenroute">
		<a><img  src="buttons/maakroute.jpg"onMouseOver="" onMouseOut="" onClick="javascript:TST.maakroutes();" border="0"></a> 
	</div>

</div>
	
<script type="text/javascript">

	var s1 = new Slider(document.getElementById("slider1"), document.getElementById("s1input"));
	s1.setMinimum(0);
	s1.setMaximum(100);
	s1.onchange = function () {
		document.getElementById("s1value").value = s1.getValue();
	};
	s1.setValue(0);

	var s2 = new Slider(document.getElementById("slider2"), document.getElementById("s2input"));
	s2.setMinimum(0);
	s2.setMaximum(100);
	s2.onchange = function () {
		document.getElementById("s2value").value = s2.getValue();
	};
	s2.setValue(0);
	
	var s3 = new Slider(document.getElementById("slider3"), document.getElementById("s3input"));
	s3.setMinimum(0);
	s3.setMaximum(100);
	s3.onchange = function () {
		document.getElementById("s3value").value = s3.getValue();
	};
	s3.setValue(0);

	var s4 = new Slider(document.getElementById("slider4"), document.getElementById("s4input"));
	s4.setMinimum(0);
	s4.setMaximum(100);
	s4.onchange = function () {
		document.getElementById("s4value").value = s4.getValue();
	};
	s4.setValue(0);
	
	var s5 = new Slider(document.getElementById("slider5"), document.getElementById("s5input"));
	s5.setMinimum(0);
	s5.setMaximum(100);
	s5.onchange = function () {
		document.getElementById("s5value").value = s5.getValue();
	};
	s5.setValue(0);

	var s6 = new Slider(document.getElementById("slider6"), document.getElementById("s6input"));
	s6.setMinimum(0);
	s6.setMaximum(100);
	s6.onchange = function () {
		document.getElementById("s6value").value = s6.getValue();
	};
	s6.setValue(0);
		
	var s7 = new Slider(document.getElementById("slider7"), document.getElementById("s7input"));
	s7.setMinimum(0);
	s7.setMaximum(100);
	s7.onchange = function () {
		document.getElementById("s7value").value = s7.getValue();
	};
	s7.setValue(0);

	var s8 = new Slider(document.getElementById("slider8"), document.getElementById("s8input"));
	s8.setMinimum(0);
	s8.setMaximum(100);
	s8.onchange = function () {
		document.getElementById("s8value").value = s8.getValue();
	};
	s8.setValue(0);
	
	var s9 = new Slider(document.getElementById("slider9"), document.getElementById("s9input"));
	s9.setMinimum(0);
	s9.setMaximum(100);
	s9.onchange = function () {
		document.getElementById("s9value").value = s9.getValue();
	};
	s9.setValue(0);

	var s10 = new Slider(document.getElementById("slider10"), document.getElementById("s10input"));
	s10.setMinimum(0);
	s10.setMaximum(100);
	s10.onchange = function () {
		document.getElementById("s10value").value = s10.getValue();
	};
	s10.setValue(0);
	
</script>

<!-- Einde van alles wat op maakroutepagina getoond moet worden. ------------------------------------------>
<script type="text/javascript">
	DH.addEvent(window, 'load', beginpagina(), false);
</script>

</font>
</body>


</html>
