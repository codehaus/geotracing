<testset id="profile" clients="1">

    <test id="login-selapp">

        <send id="client1">
            <login-req name="wp-user" password="user" portalname="walkandplaytest" protocolversion="4.0"/>
            <select-app-req appname="wp" rolename="user"/>
        </send>

        <expect id="client1">

            <login-rsp>
                <!--<portalid>${portalid}</portalid>-->
            </login-rsp>

            <select-app-rsp>
                <!--<applicationid>${applicationid}</applicationid>-->
            </select-app-rsp>

        </expect>
    </test>

    <!--<field name="name" type="STRING" size="64" required="true"/>
    <field name="description" type="TEXT" required="true" />
    <field name="invitation" type="TEXT" required="false" />
    <field name="startdate" type="TIMESTAMP"/>
    <field name="enddate" type="TIMESTAMP"/>
    -->
    <test id="tour-crud-req">
        <send id="client1">
            <utopia-req>
                <tour-create-req>
                    <tour>
                        <name>MyFirstTour</name>
                        <description>Echt een hele mooie tour</description>
                        <invitation>Komt allen</invitation>
                        <startdate>5000111222</startdate>
                        <enddate>5000111223</enddate>
                        <extra>
                            <invitees>
                                <person email="fred@waag.org" />
                                <person email="karel@waag.org" />
                            </invitees>
                        </extra>
                    </tour>
                    <intro>
                        <description>introintrointro</description>
                        <medium id="11" />
                        <medium id="23" />
                    </intro>
                    <outro>
                        <description>outrooutrooutro</description>
                        <medium id="11" />
                        <medium id="23" />
                    </outro>
                    <tag>ttttt</tag>
                    <tag>yyyyy</tag>
                    <tag>jjjjj</tag>
                    <person id="14" />
                    <person id="18" />
                    <gameplay id="20" />
                    <gameplay id="22" />
                </tour-create-req>
            </utopia-req>
        </send>

        <expect id="client1">
            <utopia-rsp>
                <tour-create-rsp id="${tourid}"/>
            </utopia-rsp>
        </expect>

        <send id="client1">
            <utopia-req>
                <tour-update-req id="${tourid}">
                    <tour>
                        <name>MySecondTour</name>
                        <description>Echt een heeeeeele mooie tour</description>
                        <invitation>Komt allen</invitation>
                        <startdate>5000111222</startdate>
                        <enddate>5000111223</enddate>
                    </tour>
                </tour-update-req>
            </utopia-req>
        </send>

        <expect id="client1">
            <utopia-rsp>
                <tour-update-rsp />
            </utopia-rsp>
        </expect>

        <send id="client1">
            <utopia-req>
                <tour-get-req id="${tourid}" />
            </utopia-req>
        </send>

        <expect id="client1">
            <utopia-rsp>
                <tour-get-rsp>
                    <tour>
                        <name>MySecondTour</name>
                        <description>Echt een heeeeeele mooie tour</description>
                        <invitation>Komt allen</invitation>
                        <startdate>5000111222</startdate>
                        <enddate>5000111223</enddate>
                    </tour>
                </tour-get-rsp>
            </utopia-rsp>
        </expect>

        <send id="client1">
            <utopia-req>
                <tour-create-req>
                    <tour>
                        <name>MyThirdTour</name>
                        <description>Echt een hele mooie tour</description>
                        <invitation>Komt allen</invitation>
                        <startdate>5000111222</startdate>
                        <enddate>5000111223</enddate>
                    </tour>
                </tour-create-req>
            </utopia-req>
        </send>

        <expect id="client1">
            <utopia-rsp>
                <tour-create-rsp id="${tourid2}"/>
            </utopia-rsp>
        </expect>

        <send id="client1">
            <utopia-req>
                <tour-getlist-req />                    
            </utopia-req>
        </send>

        <expect id="client1">
            <utopia-rsp>
                <tour-getlist-rsp>
                    <tour>
                        <name>MySecondTour</name>
                        <description>Echt een heeeeeele mooie tour</description>
                        <invitation>Komt allen</invitation>
                        <startdate>5000111222</startdate>
                        <enddate>5000111223</enddate>
                    </tour>
                    <tour>
                        <name>MyThirdTour</name>
                        <description>Echt een hele mooie tour</description>
                        <invitation>Komt allen</invitation>
                        <startdate>5000111222</startdate>
                        <enddate>5000111223</enddate>
                    </tour>
                </tour-getlist-rsp>
            </utopia-rsp>
        </expect>


        <send id="client1">
            <utopia-req>
                <tour-delete-req id="${tourid}"/>
            </utopia-req>
        </send>

        <expect id="client1">
            <utopia-rsp>
                <tour-delete-rsp/>
            </utopia-rsp>
        </expect>

        <send id="client1">
            <utopia-req>
                <tour-delete-req id="${tourid2}"/>
            </utopia-req>
        </send>

        <expect id="client1">
            <utopia-rsp>
                <tour-delete-rsp/>
            </utopia-rsp>
        </expect>

    </test>

    <test id="tour-delete-req">
        <send id="client1">
            <utopia-req>
                <tour-delete-req id="${tourid}"/>
            </utopia-req>
        </send>

        <expect id="client1">
            <utopia-rsp>
                <tour-delete-rsp/>
            </utopia-rsp>
        </expect>
    </test>


</testset>

