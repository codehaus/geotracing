<testset id="game" clients="1">

	<test id="login-selapp">

		<send id="client1">
			<login-req name="geoapp-user" password="user" portalname="walkandplay" protocolversion="4.0"/>
			<select-app-req appname="geoapp" rolename="user"/>
		</send>

		<expect id="client1">

			<login-rsp>
				<agent>
					<portal-context>
						<portalid>26
						</portalid>

						<portalname>walkandplay
						</portalname>

						<personid>${personid}
						</personid>

						<personname>geoapp user
						</personname>

						<accesslist>
							<access applicationname="geoapp" rolename="user"/>
						</accesslist>

					</portal-context>

				</agent>

			</login-rsp>


			<select-app-rsp>
				<!--<applicationid>${applicationid}</applicationid>-->
			</select-app-rsp>

		</expect>
	</test>

	<test id="game-create-req">
		<send id="client1">
			<utopia-req>
				<game-create-req>
					<game>
						<name>MyFirstTour</name>
						<description>Echt een hele mooie game</description>
						<intro>prachtige introductie</intro>
						<outro>prachtige outro</outro>
					</game>
				</game-create-req>
			</utopia-req>
		</send>

		<expect id="client1">
			<utopia-rsp>
				<game-create-rsp id="${gameid}"/>
			</utopia-rsp>
		</expect>
	</test>

	<test id="game-update-req">
		<send id="client1">
			<utopia-req>
				<game-update-req id="${gameid}">
					<game>
						<name>MySecondTour</name>
						<description>Echt een echt hele mooie game</description>
						<intro>nog prachtigere introductie</intro>
						<outro>nog prachtigere outro</outro>
					</game>
					<medium id="22901" type="intro"/>
					<medium id="22788" type="outro"/>
					<tag>tag1</tag>
					<tag>tag2</tag>
					<tag>tag3</tag>
				</game-update-req>
			</utopia-req>
		</send>

		<expect id="client1">
			<utopia-rsp>
				<game-update-rsp/>
			</utopia-rsp>
		</expect>
	</test>

	<test id="medium-insert-req-1">
		<send id="client1">
			<utopia-req>
				<medium-insert-req personid="${personid}">
					<medium>
						<name>item1</name>
						<filename>/var/keyworx/webapps/walkandplay/test/media/just-1964.jpg</filename>
						<size>2758</size>
					</medium>
				</medium-insert-req>
			</utopia-req>
		</send>

		<expect id="client1">
			<utopia-rsp>
				<medium-insert-rsp id="${mediumid1}"/>
			</utopia-rsp>
		</expect>
	</test>

	<test id="game-add-medium-req">
		<send id="client1">
			<utopia-req>
				<game-add-medium-req id="${gameid}">
					<medium id="${mediumid1}"/>
					<location>
						<lon>4.92204666137695</lon>
						<lat>52.3764702870686</lat>
						<ele>52.3764702870686</ele>
					</location>
				</game-add-medium-req>
			</utopia-req>
		</send>

		<expect id="client1">
			<utopia-rsp>
				<game-add-item-rsp/>
			</utopia-rsp>
		</expect>
	</test>

	<test id="game-addtask-req">
		<send id="client1">
			<utopia-req>
				<game-add-task-req id="${gameid}">
					<task>
						<name>opdracht</name>
						<description>een prachtige opdracht</description>
						<answer>fiets</answer>
						<medium id="${mediumid1}"/>
						<lon>4.92204666137695</lon>
						<lat>52.3764702870686</lat>
						<ele>52.3764702870686</ele>
					</task>
				</game-add-task-req>
			</utopia-req>
		</send>

		<expect id="client1">
			<utopia-rsp>
				<game-add-task-rsp/>
			</utopia-rsp>
		</expect>
	</test>


	<test id="game-delete-req">
		<send id="client1">
			<utopia-req>
				<game-delete-req id="${gameid}"/>
			</utopia-req>
		</send>

		<expect id="client1">
			<utopia-rsp>
				<game-delete-rsp id="${gameid}"/>
			</utopia-rsp>
		</expect>
	</test>

</testset>

