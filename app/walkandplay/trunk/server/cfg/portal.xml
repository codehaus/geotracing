<portal name="walkandplay">

    <!-- Standard host-dependent container properties -->
    <property name="siteurl" host="ronaldinho.local">http://local.walkandplay.com</property>
    <property name="webappurl" host="ronaldinho.local">http://local.walkandplay.com/wp</property>
    <property name="siteurl" host="suwa">http://local.walkandplay.com</property>
    <property name="webappurl" host="suwa">http://local.walkandplay.com/wp</property>
    <property name="siteurl" host="test">http://test.walkandplay.com</property>
    <property name="webappurl" host="test">http://test.walkandplay.com/wp</property>
    <property name="siteurl" host="prod">http://www.walkandplay.com</property>
    <property name="webappurl" host="prod">http://www.walkandplay.com/wp</property>

    <config>
        <!-- Oase context file. Context id becomes portal name -->
        <context file="oase-context.xml"/>
    </config>


    <!-- Connectors -->
    <connectors>
        <!-- Mainly needed for TracerDaemon and LocEmailUploadDaemon -->
        <connector id="tcp" class="org.keyworx.amuse.net.tcp.TCPConnector">
            <property name="port">6050</property>
            <property name="pongTimeoutMillis">30000</property>
        </connector>
    </connectors>


    <!-- Application context -->
    <application name="geoapp" organisation="Waag Society">

        <data>

        </data>

        <!-- Utopia handlers -->
        <handlers>
            <handler id="medium" class="org.keyworx.utopia.core.control.MediumHandler">
                <property name="max-file-size">1000000</property>
            </handler>

            <handler id="t" class="org.geotracing.handler.TracingHandler"/>

			<handler id="query" class="org.geotracing.handler.QueryHandler">
                <property name="logic">org.walkandplay.server.logic.WPQueryLogic</property>
            </handler>

			<handler id="profile" class="org.walkandplay.server.control.ProfileHandler">
                <property name="config">content-config.xml</property>
            </handler>

			<handler id="tour" class="org.walkandplay.server.control.GameCreateHandler">
                <property name="config">content-config.xml</property>
            </handler>

			<handler id="play" class="org.walkandplay.server.control.GamePlayHandler"/>

			<handler id="schedule" class="org.walkandplay.server.control.GameScheduleHandler">
                <property name="config">content-config.xml</property>
            </handler>
            <!--
           <handler id="assignment" class="org.walkandplay.server.control.AssignmentHandler"/>
            <handler id="content" class="org.keyworx.utopia.core.control.ContentHandler"/>
            <handler id="version" class="org.walkandplay.server.control.VersionHandler"/>  -->
            <!-- plugin handlers -->
            <handler id="tagging" class="org.keyworx.plugin.tagging.control.TagHandler"/>
            <handler id="license" class="org.keyworx.plugin.metadata.control.LicenseHandler"/>
        </handlers>

        <!--<amulets>
            <amulet id="wp-amulet" class="org.walkandplay.server.engine.GameAmulet"/>
        </amulets>

        <spaces>
            <space id="wp-space" access="public"/>
        </spaces>
-->
        <daemons>
            <daemon id="emailupload" class="org.geotracing.daemon.LocEmailUploadDaemon">
                <property name="intervalMillis">25000</property>

                <!-- Note these values are context-dependent and specified externally. -->
                <property name="host">email.upload.host</property>

                <!-- Production-server context -->
                <property name="email" host="pundit">email.upload.email.pundit</property>
                <property name="user" host="pundit">email.upload.user.pundit</property>
                <property name="password" host="pundit">email.upload.password.pundit</property>
            </daemon>

			<!--
			<daemon id="upgradedaemon" class="org.geotracing.daemon.UpgradeDaemon">
				<property name="pois2textmedia">false</property>
			</daemon> -->

            <!-- Tracer Bot -->
			<daemon id="tracerdaemon" class="org.geotracing.daemon.TracerDaemon">
				<property name="intervalMillis">25000</property>
			</daemon>
        </daemons>
    </application>
</portal>
